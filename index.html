<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M77 AG - Premium Agricultural Services</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav.scrolled {
            padding: 15px 50px;
            background: rgba(0, 0, 0, 0.95);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-family: 'Oswald', sans-serif;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 3px;
            color: #fff;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 40px;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #a0845c;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background: #a0845c;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080"><rect fill="%23111" width="1920" height="1080"/><circle cx="400" cy="300" r="100" fill="%23222" opacity="0.3"/><circle cx="1500" cy="700" r="150" fill="%23333" opacity="0.2"/></svg>');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero-content {
            max-width: 1000px;
            animation: fadeInUp 1s ease-out;
        }

        .hero-tagline {
            font-size: 16px;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: #a0845c;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .hero-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 700;
            letter-spacing: 8px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .hero-subtitle {
            font-size: 18px;
            color: #ccc;
            margin-bottom: 50px;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .hero-buttons {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            border: 2px solid #a0845c;
            background: transparent;
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-size: 14px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            background: #a0845c;
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(160, 132, 92, 0.3);
        }

        .btn-primary {
            background: #a0845c;
            color: #000;
        }

        .btn-primary:hover {
            background: transparent;
            color: #a0845c;
        }

        /* Content Sections */
        .section {
            padding: 100px 50px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
        }

        .section-tagline {
            font-size: 14px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: #a0845c;
            margin-bottom: 20px;
        }

        .section-title {
            font-family: 'Oswald', sans-serif;
            font-size: 3.5rem;
            font-weight: 600;
            letter-spacing: 3px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .section-description {
            font-size: 18px;
            color: #ccc;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Story Section */
        .story-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .story-text {
            font-size: 16px;
            line-height: 1.8;
            color: #ddd;
        }

        .story-text p {
            margin-bottom: 20px;
        }

        .story-image {
            height: 400px;
            background: linear-gradient(45deg, #333, #222);
            border: 2px solid #a0845c;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #a0845c;
            font-size: 24px;
            letter-spacing: 2px;
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .service-card {
            background: linear-gradient(135deg, #1a1a1a, #0d0d0d);
            border: 1px solid #333;
            padding: 40px 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(160, 132, 92, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .service-card:hover::before {
            left: 100%;
        }

        .service-card:hover {
            transform: translateY(-10px);
            border-color: #a0845c;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .service-icon {
            font-size: 3rem;
            color: #a0845c;
            margin-bottom: 20px;
        }

        .service-title {
            font-family: 'Oswald', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: 2px;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .service-description {
            color: #ccc;
            line-height: 1.6;
        }

        /* Contract Section */
        .contract-section {
            background: linear-gradient(135deg, #111, #000);
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }

        .contract-form {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid #333;
            padding: 50px;
            margin-top: 50px;
            backdrop-filter: blur(10px);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #a0845c;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            color: #fff;
            padding: 15px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #a0845c;
            box-shadow: 0 0 10px rgba(160, 132, 92, 0.3);
        }

        /* Services Table */
        .services-table {
            width: 100%;
            border-collapse: collapse;
            margin: 40px 0;
            background: rgba(0, 0, 0, 0.3);
        }

        .services-table th,
        .services-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #333;
        }

        .services-table th {
            background: rgba(160, 132, 92, 0.1);
            color: #a0845c;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-size: 12px;
        }

        .services-table input[type="checkbox"] {
            transform: scale(1.2);
            accent-color: #a0845c;
        }

        .services-table input[type="number"] {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            color: #fff;
            padding: 8px;
            width: 100px;
        }

        /* Discount Display */
        .discount-display {
            background: linear-gradient(45deg, #a0845c, #8b6f47);
            color: #000;
            padding: 20px;
            text-align: center;
            margin: 30px 0;
            font-weight: 600;
            letter-spacing: 1px;
        }

        /* Contract Summary */
        .contract-summary {
            background: rgba(160, 132, 92, 0.1);
            border: 1px solid #a0845c;
            padding: 30px;
            margin: 40px 0;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #333;
        }

        .summary-row:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 1.2rem;
            color: #a0845c;
        }

        /* Footer */
        footer {
            background: #000;
            border-top: 1px solid #333;
            padding: 50px;
            text-align: center;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #a0845c;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            nav {
                padding: 20px 20px;
            }

            .nav-links {
                display: none;
            }

            .section {
                padding: 50px 20px;
            }

            .story-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .contract-form {
                padding: 30px 20px;
            }

            .services-table {
                font-size: 12px;
            }

            .services-table th,
            .services-table td {
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <div class="logo">M77 AG</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#story">About</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#contract">Contract</a></li>
                <li><a href="https://www.togoag.com" target="_blank">ToGo Store</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-tagline">Premium Agricultural Excellence</div>
            <h1 class="hero-title">M77 AG</h1>
            <p class="hero-subtitle">Kyle & Brandi McConnell | Growing Excellence, Harvesting Success</p>
            <div class="hero-buttons">
                <a href="#contract" class="btn btn-primary">Custom Farming</a>
                <a href="#services" class="btn">Our Services</a>
            </div>
        </div>
    </section>

    <!-- Story Section -->
    <section id="story" class="section">
        <div class="section-header">
            <div class="section-tagline">Our Heritage</div>
            <h2 class="section-title">The M77 AG Story</h2>
            <p class="section-description">Built on generations of agricultural expertise and a commitment to excellence</p>
        </div>
        <div class="story-content">
            <div class="story-text">
                <p>At M77 Ag, Kyle and Brandi McConnell bring decades of combined agricultural experience to Northern Colorado. Our operation represents the perfect blend of traditional farming wisdom and modern agricultural technology.</p>
                <p>We specialize in quality crop production and comprehensive custom farming services. Every acre we work represents our commitment to excellence and our deep understanding of what it takes to succeed in today's agricultural landscape.</p>
                <p>While M77 Ag focuses on farming excellence, our partnership with ToGo Ag provides our customers with a complete agricultural solution - from field to market.</p>
            </div>
            <div class="story-image">
                Agricultural Excellence Since Day One
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="section">
        <div class="section-header">
            <div class="section-tagline">What We Offer</div>
            <h2 class="section-title">Our Services</h2>
            <p class="section-description">Comprehensive agricultural services designed to maximize your operation's potential</p>
        </div>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-icon">🚜</div>
                <h3 class="service-title">Custom Farming</h3>
                <p class="service-description">Complete field operations from soil preparation through harvest, tailored to your specific needs and farming goals.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">🌾</div>
                <h3 class="service-title">Crop Production</h3>
                <p class="service-description">Quality corn, soybeans, wheat, and specialty crop production using proven techniques and modern equipment.</p>
            </div>
            <div class="service-card">
                <div class="service-icon">📊</div>
                <h3 class="service-title">Farm Consulting</h3>
                <p class="service-description">Strategic guidance on crop selection, field management, and operational efficiency to optimize your farm's profitability.</p>
            </div>
        </div>
    </section>

    <!-- Contract Section -->
    <section id="contract" class="section contract-section">
        <div class="section-header">
            <div class="section-tagline">Get Started</div>
            <h2 class="section-title">Custom Farming Contract</h2>
            <p class="section-description">Professional agricultural services with competitive market-based pricing and volume discounts</p>
        </div>

        <form class="contract-form" action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
            <div class="form-grid">
                <div class="form-group">
                    <label for="farm-owner">Farm Owner Name</label>
                    <input type="text" id="farm-owner" name="farm_owner" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="farm-location">Farm Location</label>
                    <input type="text" id="farm-location" name="farm_location" required>
                </div>
                <div class="form-group">
                    <label for="total-acres">Total Acres</label>
                    <input type="number" id="total-acres" name="total_acres" min="1" required onchange="calculateDiscounts()">
                </div>
                <div class="form-group">
                    <label for="crop-type">Primary Crop Type</label>
                    <select id="crop-type" name="crop_type" required>
                        <option value="">Select Crop Type</option>
                        <option value="corn">Corn</option>
                        <option value="soybeans">Soybeans</option>
                        <option value="wheat">Wheat</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>

            <div id="discount-display" class="discount-display" style="display: none;">
                Volume Discount Applied: <span id="discount-rate">0%</span> OFF Market Rates
            </div>

            <h3 style="color: #a0845c; margin-bottom: 20px; font-family: 'Oswald', sans-serif; letter-spacing: 2px;">SELECT SERVICES NEEDED</h3>
            
            <table class="services-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Service Operation</th>
                        <th>Market Rate</th>
                        <th>Discounted Rate</th>
                        <th>Your Proposed Rate</th>
                        <th>Total Cost</th>
                        <th>You Save</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="checkbox" name="services" value="discing" onchange="calculateTotals()"></td>
                        <td><strong>Discing</strong><br><small>Primary tillage operation</small></td>
                        <td>$20.50</td>
                        <td id="discing-rate">$20.50</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="discing-total">$0.00</td>
                        <td id="discing-savings">$0.00</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="services" value="chisel-plow" onchange="calculateTotals()"></td>
                        <td><strong>Chisel Plow</strong><br><small>Deep tillage operation</small></td>
                        <td>$22.00</td>
                        <td id="chisel-rate">$22.00</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="chisel-total">$0.00</td>
                        <td id="chisel-savings">$0.00</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="services" value="field-finisher" onchange="calculateTotals()"></td>
                        <td><strong>Field Finisher</strong><br><small>Secondary tillage</small></td>
                        <td>$16.50</td>
                        <td id="finisher-rate">$16.50</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="finisher-total">$0.00</td>
                        <td id="finisher-savings">$0.00</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="services" value="fertilizer-application" onchange="calculateTotals()"></td>
                        <td><strong>Fertilizer Application</strong><br><small>Precision application</small></td>
                        <td>$10.00</td>
                        <td id="fertilizer-rate">$10.00</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="fertilizer-total">$0.00</td>
                        <td id="fertilizer-savings">$0.00</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="services" value="harvesting" onchange="calculateTotals()"></td>
                        <td><strong>Harvesting</strong><br><small>Combine services</small></td>
                        <td>$48.00</td>
                        <td id="harvesting-rate">$48.00</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="harvesting-total">$0.00</td>
                        <td id="harvesting-savings">$0.00</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="services" value="grain-hauling" onchange="calculateTotals()"></td>
                        <td><strong>Grain Hauling</strong><br><small>Per bushel rate</small></td>
                        <td>$0.40/bu</td>
                        <td id="hauling-rate">$0.40/bu</td>
                        <td><input type="number" step="0.01" min="0" placeholder="Optional" onchange="calculateTotals()"></td>
                        <td id="hauling-total">$0.00</td>
                        <td id="hauling-savings">$0.00</td>
                    </tr>
                </tbody>
            </table>

            <div class="contract-summary">
                <h3 style="color: #a0845c; margin-bottom: 20px; font-family: 'Oswald', sans-serif;">CONTRACT SUMMARY</h3>
                <div class="summary-row">
                    <span>Subtotal (Selected Services):</span>
                    <span id="subtotal">$0.00</span>
                </div>
                <div class="summary-row">
                    <span>Volume Discount:</span>
                    <span id="discount-amount">$0.00</span>
                </div>
                <div class="summary-row">
                    <span>Total Contract Value:</span>
                    <span id="total-cost">$0.00</span>
                </div>
                <div class="summary-row">
                    <span>Your Total Savings vs. Market:</span>
                    <span id="total-savings">$0.00</span>
                </div>
            </div>

            <div class="form-group">
                <label for="additional-notes">Additional Requirements or Notes</label>
                <textarea id="additional-notes" name="additional_notes" rows="4" placeholder="Please describe any specific requirements, timing needs, or special considerations..."></textarea>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button type="submit" class="btn btn-primary" style="border: none; cursor: pointer; font-size: 16px; padding: 20px 50px;">
                    Submit Contract Request
                </button>
            </div>
        </form>
    </section>

    <!-- ToGo AG Section -->
    <section class="section">
        <div class="section-header">
            <div class="section-tagline">Our Partner</div>
            <h2 class="section-title">ToGo AG Store</h2>
            <p class="section-description">Complete your agricultural needs with our online agricultural supply store</p>
        </div>
        <div style="text-align: center;">
            <a href="https://www.togoag.com" target="_blank" class="btn btn-primary">Visit ToGo AG Store</a>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="section-header">
            <div class="section-tagline">Get In Touch</div>
            <h2 class="section-title">Contact M77 AG</h2>
            <p class="section-description">Ready to discuss your farming needs? We're here to help.</p>
        </div>
        <div style="text-align: center; color: #ccc;">
            <p style="font-size: 18px; margin-bottom: 20px;">Email: <a href="mailto:m77@m77ag.com" style="color: #a0845c;">m77@m77ag.com</a></p>
            <p style="font-size: 18px;">Northern Colorado Agricultural Services</p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#home">Home</a>
                <a href="#story">About</a>
                <a href="#services">Services</a>
                <a href="#contract">Contract</a>
                <a href="https://www.togoag.com" target="_blank">ToGo Store</a>
            </div>
            <p style="color: #666;">&copy; 2025 M77 AG - Kyle & Brandi McConnell. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Market rates and discount calculations
        const marketRates = {
            discing: 20.50,
            chisel: 22.00,
            finisher: 16.50,
            fertilizer: 10.00,
            harvesting: 48.00,
            hauling: 0.40
        };

        function calculateDiscounts() {
            const acres = parseFloat(document.getElementById('total-acres').value) || 0;
            let discountRate = 0;
            
            if (acres >= 300) {
                discountRate = 0.14; // 14%
            } else if (acres >= 200) {
                discountRate = 0.10; // 10%
            } else if (acres >= 100) {
                discountRate = 0.07; // 7%
            }

            // Show/hide discount display
            const discountDisplay = document.getElementById('discount-display');
            if (discountRate > 0) {
                discountDisplay.style.display = 'block';
                document.getElementById('discount-rate').textContent = (discountRate * 100) + '%';
            } else {
                discountDisplay.style.display = 'none';
            }

            // Update discounted rates
            document.getElementById('discing-rate').textContent = '$' + (marketRates.discing * (1 - discountRate)).toFixed(2);
            document.getElementById('chisel-rate').textContent = '$' + (marketRates.chisel * (1 - discountRate)).toFixed(2);
            document.getElementById('finisher-rate').textContent = '$' + (marketRates.finisher * (1 - discountRate)).toFixed(2);
            document.getElementById('fertilizer-rate').textContent = '$' + (marketRates.fertilizer * (1 - discountRate)).toFixed(2);
            document.getElementById('harvesting-rate').textContent = '$' + (marketRates.harvesting * (1 - discountRate)).toFixed(2);
            document.getElementById('hauling-rate').textContent = '$' + (marketRates.hauling * (1 - discountRate)).toFixed(2) + '/bu';

            calculateTotals();
        }

        function calculateTotals() {
            const acres = parseFloat(document.getElementById('total-acres').value) || 0;
            let discountRate = 0;
            
            if (acres >= 300) discountRate = 0.14;
            else if (acres >= 200) discountRate = 0.10;
            else if (acres >= 100) discountRate = 0.07;

            let subtotal = 0;
            let totalSavings = 0;

            // Calculate each service
            const services = ['discing', 'chisel', 'finisher', 'fertilizer', 'harvesting', 'hauling'];
            const serviceMap = {
                discing: 'discing',
                chisel: 'chisel-plow', 
                finisher: 'field-finisher',
                fertilizer: 'fertilizer-application',
                harvesting: 'harvesting',
                hauling: 'grain-hauling'
            };

            services.forEach(service => {
                const checkbox = document.querySelector(`input[value="${serviceMap[service]}"]`);
                const proposedRateInput = checkbox.closest('tr').querySelector('input[type="number"]');
                const totalCell = document.getElementById(service + '-total');
                const savingsCell = document.getElementById(service + '-savings');

                if (checkbox.checked && acres > 0) {
                    const marketRate = marketRates[service];
                    const discountedRate = marketRate * (1 - discountRate);
                    const proposedRate = parseFloat(proposedRateInput.value) || discountedRate;
                    
                    let totalCost, savings;
                    
                    if (service === 'hauling') {
                        // Grain hauling is per bushel - estimate 180 bu/acre
                        const estimatedBushels = acres * 180;
                        totalCost = proposedRate * estimatedBushels;
                        savings = (marketRate - proposedRate) * estimatedBushels;
                        totalCell.textContent = '$' + totalCost.toFixed(0);
                    } else {
                        // Per acre services
                        totalCost = proposedRate * acres;
                        savings = (marketRate - proposedRate) * acres;
                        totalCell.textContent = '$' + totalCost.toFixed(0);
                    }
                    
                    subtotal += totalCost;
                    totalSavings += savings;
                    
                    if (savings >= 0) {
                        savingsCell.textContent = '$' + savings.toFixed(0);
                        savingsCell.style.color = '#4CAF50';
                    } else {
                        savingsCell.textContent = '-$' + Math.abs(savings).toFixed(0);
                        savingsCell.style.color = '#f44336';
                    }
                } else {
                    totalCell.textContent = '$0.00';
                    savingsCell.textContent = '$0.00';
                    savingsCell.style.color = '#ccc';
                }
            });

            // Update summary
            document.getElementById('subtotal').textContent = '$' + subtotal.toFixed(0);
            document.getElementById('discount-amount').textContent = (discountRate * 100) + '% Applied';
            document.getElementById('total-cost').textContent = '$' + subtotal.toFixed(0);
            
            if (totalSavings >= 0) {
                document.getElementById('total-savings').textContent = '$' + totalSavings.toFixed(0);
                document.getElementById('total-savings').style.color = '#4CAF50';
            } else {
                document.getElementById('total-savings').textContent = '-$' + Math.abs(totalSavings).toFixed(0);
                document.getElementById('total-savings').style.color = '#f44336';
            }
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
